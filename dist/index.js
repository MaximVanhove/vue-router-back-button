!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.VueRouterBackButton=e():t.VueRouterBackButton=e()}(window,function(){return function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=2)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={_storageKey:"vue.router.back.button.history",_history:[],_current:-1,useSession:function(){try{return!!window.sessionStorage}catch(t){return!1}}(),router:null,ignoreRoutesWithSameName:!1,install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.router,n=e.ignoreRoutesWithSameName;i.router=r,i.ignoreRoutesWithSameName=n||!1,i.registerHistoryEvents(),Object.defineProperty(t.prototype,"$routerHistory",{get:function(){return i}})},registerHistoryEvents:function(){var t,e;window.history.replaceState=(t=window.history.replaceState,e=this.onReplaceState,function(){return e.apply(i,arguments),t.apply(this,arguments)}),i.registerHistoryEvents=function(){}},onReplaceState:function(){this.router&&this.router.currentRoute.fullPath===this.current().path&&this.replaceLastPush()},reset:function(){this._history=[],this._current=-1,this.save()},getHistory:function(){if(!this.useSession)return this._history;var t=sessionStorage.getItem(this._storageKey);return this._history=t?window.JSON.parse(t).history:[],this._history},getCurrent:function(){if(!this.useSession)return this._current;var t=sessionStorage.getItem(this._storageKey);return this._current=t?window.JSON.parse(t).current:-1,this._current},save:function(){if(this.useSession){var t=window.JSON.stringify({history:this._history,current:this._current});return sessionStorage.setItem(this._storageKey,t),this}},previous:function(){var t=this.getHistory();return t.length>1?{path:t[this._current-1]}:{path:null}},current:function(){var t=this.getHistory();return t.length>1?{path:t[this._current]}:{path:null}},next:function(){var t=this.getHistory();return t.length+1>this._current?{path:t[this._current+1]}:{path:null}},hasHistory:function(){return this.getHistory().length>1},hasPrevious:function(){return this.getCurrent()>0},hasForward:function(){return this.getCurrent()+1<this.getHistory().length},push:function(t){this._history=this.getHistory(),this._current=this.getCurrent(),this._history.splice(this._current+1,this._history.length),this._history[this._history.length-1]!==t&&(this._history.push(t),this._current=this._current+1),this.save()},replaceLastPush:function(){this._history=this.getHistory(),this._current=this.getCurrent(),this._history.splice(this._current-1,1),this._current=this._current-1,this.save()},back:function(t){t<0||(this._current=this.getCurrent(),this._current=this._current-t,this.save())},forward:function(t){t<0||(this._current=this.getCurrent(),this._current=this._current+t,this.save())},getTheRecentFuture:function(){var t=this.getHistory(),e=this.getCurrent();return t.slice(e+1,e+4)},indexOfRecentHistory:function(t){var e=this.getHistory(),r=this.getCurrent();return e.slice(0,r+1).reverse().indexOf(t)},visitedRecently:function(t){return-1!==this.indexOfRecentHistory(t)}};e.default=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,n=(i=r(0))&&i.__esModule?i:{default:i};e.default=function(t,e){if(n.default.visitedRecently(t.fullPath)){var r=n.default.indexOfRecentHistory(t.fullPath);n.default.back(r)}else{if(n.default.ignoreRoutesWithSameName&&t.name&&e.name&&t.name===e.name)return;n.default.push(t.fullPath)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writeHistory=e.routerHistory=void 0;var i=s(r(0)),n=s(r(1));function s(t){return t&&t.__esModule?t:{default:t}}e.routerHistory=i.default,e.writeHistory=n.default,e.default={install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.router,s=e.ignoreRoutesWithSameName;r?(t.use(i.default,{router:r,ignoreRoutesWithSameName:s}),r.afterEach(n.default)):console.error("VueRouterBackButton: router is required on install")}}}])});